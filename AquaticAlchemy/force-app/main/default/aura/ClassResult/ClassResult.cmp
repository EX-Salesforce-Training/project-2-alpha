  
<!-- Name: ClassResult Page
     Author: Andreology
     Created: 05/07/2021
     Updated: 05/08/2021
     Description: This Page will show a list of classes available currently
-->
<aura:component controller="ClassResultController" implements="flexipage:availableForAllPageTypes,forceCommunity:availableForAllPageTypes" access="global" >
	<aura:attribute name="classListing" type="Class__c[]"></aura:attribute>
    <aura:attribute name="classesAvailable" type="boolean" default="false"></aura:attribute>
    <aura:handler name="init" value="{!this}" action="{!c.RetreiveAllClasses}"></aura:handler>
    <aura:if isTrue="{!v.classesAvailable}">
        <lightning:layout multipleRows="true"> 
            <aura:iteration items="{!v.classListing}" var="prop">
                <lightning:layoutItem padding="around-small" size="6">
                    <lightning:layout multipleRows="true">
                        <div class="slds-box"  style="width:100%;background-color:white;">
                            <lightning:layout>
                                <lightning:layoutItem size="4" padding="around-small">
                                    <img src="{!$Resource.Swim}"/>
                                </lightning:layoutItem>
                                <lightning:layoutItem size="8" padding="around-small">
                                    <lightning:card title="{!prop.Name}">
                                        <lightning:layoutItem size="12">
                                            <p style="color:red">Price: {!prop.Class_Price__c}</p>
                                        </lightning:layoutItem>
                                        <lightning:layoutItem size="12">
                                            <p>Capacity: {!prop.Capacity__c}</p>
                                        </lightning:layoutItem>
                                    </lightning:card>
                                    <div class="slds-p-top_small"> 
                                        <lightning:buttonGroup>
                                            <lightning:button class="button_style" variant="brand-outline" label="Class Details" 
                                                             value="{!prop.Class_Instructor__c}" onClick="{c.handleInstructorDetails}"></lightning:button>
                                            <lightning:button class="button_style" variant="brand-outline" label="Register" 
                                                             value="{!prop.Class_Instructor__c}" onClick="{c.handleInstructorDetails}"></lightning:button>
                                            <lightning:button class="button_style" variant="brand-outline" label="Instructor Details" 
                                                             value="{!prop.Class_Instructor__c}" onClick="{c.handleInstructorDetails}"></lightning:button>
                                        </lightning:buttonGroup>
                                    </div>
                                </lightning:layoutItem>
                            </lightning:layout>
                            
                        </div>
                    </lightning:layout>
                </lightning:layoutItem>
            </aura:iteration>
        </lightning:layout>>
    <aura:set attribute="else">
        <span>Class Listing aren't visible yet. </span>
    </aura:set>
    </aura:if>
</aura:component>
